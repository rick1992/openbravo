<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD Xhtml 1.0 Transitional//EN" "http://www.w3.org/tr/xhtml1/Dtd/xhtml1-transitional.dtd">
<!--
 *************************************************************************
 * The contents of this file are subject to the Openbravo  Public  License
 * Version  1.1  (the  "License"),  being   the  Mozilla   Public  License
 * Version 1.1  with a permitted attribution clause; you may not  use this
 * file except in compliance with the License. You  may  obtain  a copy of
 * the License at http://www.openbravo.com/legal/license.html
 * Software distributed under the License  is  distributed  on  an "AS IS"
 * basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the
 * License for the specific  language  governing  rights  and  limitations
 * under the License.
 * The Original Code is Openbravo ERP.
 * The Initial Developer of the Original Code is Openbravo SLU
 * All portions are Copyright (C) 2008-2013 Openbravo SLU
 * All Rights Reserved.
 * Contributor(s):  ______________________________________.
 ************************************************************************
-->
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Crear Factura (Proveedor)</title>
    <link rel="shortcut icon" href="../../../../../web/images/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="../../../../../web/skins/Default/Openbravo_ERP_250.css" id="paramCSS" />
    <script language="JavaScript" type="text/javascript" id="paramDirectory">
      var baseDirectory = "../../../../../web/";
      </script>      
      <script language="JavaScript" src="../utility/DynamicJS.js" type="text/javascript"></script>
      <script language="JavaScript" type="text/javascript" id="paramLanguage">
        var defaultLang = "en_US";
      </script>         
      <script language="JavaScript" src="../../../../../web/js/shortcuts.js" type="text/javascript"></script>
      <script language="JavaScript" src="../../../../../web/js/utils.js" type="text/javascript"></script>
      <script language="JavaScript" src="../../../../../web/js/ajax.js" type="text/javascript"></script>
      <script language="JavaScript" src="../../../../../web/js/messages.js" type="text/javascript"></script>           
      <script language="JavaScript" src="../../../../../web/js/appStatus.js" type="text/javascript"></script>
      <script language="JavaScript" src="../../../../../web/js/searchs.js" type="text/javascript"></script>
      <script language="JavaScript" src="../../../../../web/js/default/MessageBox.js" type="text/javascript"></script>
      <script language="JavaScript" src="../utility/DynamicJS.js" type="text/javascript"></script>
      <script language="JavaScript" src="../../../../../web/js/calculator.js" type="text/javascript"></script>
      <script language="JavaScript" src="../../../../../web/js/windowKeyboard.js" type="text/javascript"></script>
      <script language="JavaScript" src="../../../../../web/org.openbravo.userinterface.selector/js/classic-skin-variable.js" type="text/javascript"></script>
      <script language="JavaScript" src="../../../../../web/../org.openbravo.client.kernel/OBCLKER_Kernel/StaticResources" type="text/javascript"></script>      
      <script language="JavaScript" src="../../../../../web/js/jscalendar/calendar.js" type="text/javascript"></script>
      <script language="JavaScript" src="../../../../../web/js/jscalendar/lang/calendar-es.js" type="text/javascript" id="fieldCalendar"></script>
      <script language="JavaScript" src="../../../../../web/js/default/DateTextBox.js" type="text/javascript"></script>
      <script language="JavaScript" src="../../../../../web/org.openbravo.advpaymentmngt/FIN_Utilities.js" type="text/javascript"></script>
      <script language="JavaScript" src="../../../../../web/js/appStatus.js" type="text/javascript"></script>      

<script language="JavaScript" type="text/javascript">

//prevent refocus after the tab containing this window
//gets selected, this prevents change of scroll position
//for that tab
//OB_NoRefocusAfterTabSelection = true;
</script>     

<script language="JavaScript" type="text/javascript" id="paramOrgFolio">
var AD_Org_ID=null;
</script>

<script language="JavaScript" type="text/javascript">     
    window.onunload = reloadOpener; // reloads opener on closing

    function closeThisPage() {
      closePage();
      return true;
    }
    
    function closeSearch(action, strKey, strText, parameters, wait) {
      if (wait!=false) {
        setTimeout(function() {closeSearch(action, strKey, strText, parameters, false);},100);
        return;
      } else {
        if (winSelector==null) return true;
        if (gForm!=null && gFieldKey!=null && gFieldText!=null) {
          var key = getField(gFieldKey);
          if (key!=null) {
            if (action=="SAVE") {
              if (strKey==null || strKey=="") {
                showJSMessage(31);
                winSelector.focus();
                return false;
              }
              key.value = strKey;
              var text = getField(gFieldText);
              //if (text!=null) text.value = ReplaceText(strText, "\"", "\\\"");
              if (text!=null) text.value = strText;
              if (parameters!=null && parameters.length>0) {
                var total = parameters.length;
                for (var i=0;i<total;i++) {
                  //var obj = eval("document." + gForm + "." + ((parameters[i].esRef)?gFieldKey:"") + parameters[i].campo);
                  var obj = getField(((parameters[i].esRef)?gFieldKey:"") + parameters[i].campo);
                  if (obj!=null && obj.type) obj.value=parameters[i].valor;
                }
              }
              if (key.onchange) {
                  key.onchange();
              }
              try { changeToEditingMode('force'); } catch (e) {}
            } else if (action=="CLEAR") {                
              strKey="";
              strText="";
              key.value= "";
              var text = getField(gFieldText);
              text.value="";              
              if (parameters!=null && parameters.length>0) {                  
                var total = parameters.length;
                for (var i=0;i<total;i++) {
                  var obj = getField(((parameters[i].esRef)?gFieldKey:"") + parameters[i].campo);
                  if (obj!=null && obj.type) obj.value="";
                }
              }
              if (key.onchange) {                   
                  key.onchange(); 
              }
              try { changeToEditingMode('force'); } catch (e) {}
            } else if (action=="SAVE_IMAGE") {
              if (strKey==null || strKey=="") {
                showJSMessage(31);
                winSelector.focus();
                return false;
              }
              
              key.value=strKey;
              if (typeof baseDirectory != "unknown") {
                eval("document.images['" + gFieldText + "'].src=\"" + baseDirectory + "images/" + strText + "\"");
              } else {
                // Deprecated in 2.50, the following code is only for compatibility
                eval("document.images['" + gFieldText + "'].src=\"" + baseDirection + "images/" + strText + "\"");
              }
              if (parameters!=null && parameters.length>0) {
                var total = parameters.length;
                for (var i=0;i<total;i++) {
                  var obj = getField(((parameters[i].esRef)?gFieldKey:"") + parameters[i].campo);
                  if (obj!=null && obj.type) obj.value=parameters[i].valor;
                }
              }
              if (key.onchange) key.onchange();
              try { changeToEditingMode('force'); } catch (e) {}
            } else if (action=="CLEAR_IMAGE") {
              strKey="";
              strText="";
              key.value="";
              var text = getField(gFieldText);
              if (typeof baseDirectory != "unknown") {
                text.src= baseDirectory + "images/" + baseImage ;
              } else {
                // Deprecated in 2.50, the following code is only for compatibility
                text.src= baseDirection + "images/" + baseImage ;
              }
              if (parameters!=null && parameters.length>0) {
                var total = parameters.length;
                for (var i=0;i<total;i++) {
                  var obj = getField(((parameters[i].esRef)?gFieldKey:"") + parameters[i].campo);
                  if (obj!=null && obj.type) obj.value="";
                }
              }
              if (key.onchange) key.onchange();
              try { changeToEditingMode('force'); } catch (e) {}
            }            
          }
        }
        closeWindowSearch();
        if (gValidate) {
          if (!debugSearch(strKey, strText, gFieldKey, parameters)) {
            return false;
          }
        }
        window.focus();
        return true;
      }
    }
    
    function setUpdateDate() {
    	
        var frm = document.frmMain;         
    	var actionURL = OB.Application.contextUrl + '/pe.com.unifiedgo.imports.ad_reports/CreateInvoiceFromPartial.html',
    	      callback, reqObj, request;

    	  callback = function (response, data, request) {
    		  var newDateTo = new Date(data.dateTo);
    		  var newDate = new Date(data.duedate);
    		  document.getElementById('paramDateTo').value = data.invoicedate;
    		  document.getElementById('paramAccDate').value = data.invoicedate;
    		  document.getElementById('paramDueDate').value = data.duedate;
          };

    	  reqObj = {
    	    params: {
    	      Command: 'REPLICARFECHA',
    	      inpDocumentoFisico: frm.inpDocumentoFisico.value,
    	      inpDocDate: frm.inpDocDate.value,
    	      inpDateTo: frm.inpDateTo.value,
    	      inpPaymentTermPopUpId: frm.inpPaymentTermId.value,
    	      inpDueDate: frm.inpDueDate.value,
    	      inpscrComboItemId : frm.inpscrComboItemId.value,
    	      inpAccDate: frm.inpAccDate.value  
    	    },
    	    callback: callback,
    	    evalResult: true,
    	    httpMethod: 'GET',
    	    useSimpleHttp: true,
    	    actionURL: actionURL
    	  };
    	  request = isc.RPCManager.sendRequest(reqObj);
     }
    
    function openNewPurchaseInvoice() {
      	  var frm = document.frmMain;         
    	  var actionURL = OB.Application.contextUrl + '/pe.com.unifiedgo.imports.ad_reports/CreateInvoiceFromPartial.html',
    	      callback, reqObj, request;
    	  var chk ='N';
    	  
    	  if(document.getElementById("paramChkInvoiceToCo").checked==true){
    		chk='Y'  
    	  }
    		  
    		  
    	  callback = function (response, data, request) {
    		  closePage();
          };

    	  reqObj = {
    	    params: {
    	      Command: 'PROVISIONAR',
    	      inpDocumentoFisico: frm.inpDocumentoFisico.value,
    	      inpDocDate: frm.inpDocDate.value,
    	      inpDateTo: frm.inpDateTo.value,
    	      inpPaymentTermPopUpId: frm.inpPaymentTermId.value,
    	      inpDueDate: frm.inpDueDate.value,
    	      inpscrComboItemId : frm.inpscrComboItemId.value,
    	      inpChkInvoiceToCo: chk,
    	      inpAccDate: frm.inpAccDate.value  
    	    },
    	    callback: callback,
    	    evalResult: true,
    	    httpMethod: 'GET',
    	    useSimpleHttp: true,
    	    actionURL: actionURL
    	  };
    	  request = isc.RPCManager.sendRequest(reqObj);
    }

    function submitThisPage(strCommand) {        
        if (!isWindowInMDIPopup || (getFrame('LayoutMDI') && getFrame('LayoutMDI').OB.MainView.TabSet.getSelectedTab().pane.getClassName()==='OBClassicWindow')) {
            // If opening in 2.50 layout, do it in hidden frame
            submitCommandForm(strCommand, false, null, null, "hiddenFrame");
        } else {
            //In OB 3, we submit the form in the OB 3 background_target hidden iframe
            submitCommandForm(strCommand, false, null, null, "background_target");
            //We refresh the main view to ensure that the attachments counter is updated
            if (getFrame('LayoutMDI')) {
                var tabSet = getFrame('LayoutMDI').OB.MainView.TabSet;
                if (tabSet && tabSet.getSelectedTab() && tabSet.getSelectedTab().pane.view && tabSet.getSelectedTab().pane.view.refresh) {
                    tabSet.getSelectedTab().pane.view.refresh();
                }
            }
        }
            
        closePage();
        return true;
    }     
    
    function validate() {
    	
    	
        var frm = document.frmMain;   
        if (frm.paramDocumentoFisico.value == null || frm.paramDocumentoFisico.value == "") {
            setWindowElementFocus(frm.paramDocumentoFisico);
            showJSMessage(7);
            return false;
        }
         if (frm.paramscr_Combo_Item_ID.value == null || frm.paramscr_Combo_Item_ID.value == "") {
            setWindowElementFocus(frm.paramscr_Combo_Item_ID);
            showJSMessage(7);
            return false;
        } 
        /*else {
        	if (frm.inpExpenseType.value == null || frm.inpExpenseType.value == "") {
                setWindowElementFocus(frm.inpExpenseType);
                showJSMessage(7);
                return false;
            }
            if (frm.inpExpenseMode.value == null || frm.inpExpenseMode.value == "") {
                setWindowElementFocus(frm.inpExpenseMode);
                showJSMessage(7);
                return false;
            }	
        } 
        */
        
        return true;
    }
    
  

    function resizeWindow() {
        //popupResizeTo(620, 400);
        popupResizeTo(590, 450);
    }
    
    function refreshPayment() {
    	var frm = document.frmMain;         
  	  var actionURL = OB.Application.contextUrl + '/pe.com.unifiedgo.imports.ad_reports/CreateInvoiceFromPartial.html',
  	      callback, reqObj, request;
  	  
  	  
  	  callback = function (response, data, request) {
  		  var newDate = new Date(data.duedate);
  		  document.getElementById('paramDueDate').value = data.duedate;
        };

  	  reqObj = {
  	    params: {
  	      Command: 'CALCULAR',
  	      inpDocumentoFisico: frm.inpDocumentoFisico.value,
  	      inpDocDate: frm.inpDocDate.value,
  	      inpDateTo: frm.inpDateTo.value,
  	      inpPaymentTermPopUpId: frm.inpPaymentTermId.value,
  	      inpDueDate: frm.inpDueDate.value,
  	      inpAccDate: frm.inpAccDate.value  
  	    },
  	    callback: callback,
  	    evalResult: true,
  	    httpMethod: 'GET',
  	    useSimpleHttp: true,
  	    actionURL: actionURL
  	  };
  	  request = isc.RPCManager.sendRequest(reqObj);
    	
    	
    	
    }
    
 /*   function refreshExpense() {
        var frm = document.frmMain;   
        if (frm.inpDAMType.value != null && frm.inpDAMType.value == 'SO') {
        	displayLogicElement('inpExpenseType', false);
        	displayLogicElement('lblExpenseType', false);
            displayLogicElement('inpExpenseMode', false);
            displayLogicElement('lblExpenseMode', false);
        } else if (frm.inpDAMType.value != null && frm.inpDAMType.value == 'EXP'){
            displayLogicElement('inpExpenseType', true);
            displayLogicElement('lblExpenseType', true);
            displayLogicElement('inpExpenseMode', true); 
            displayLogicElement('lblExpenseMode', true);
        }
        
    }*/
    
    function onLoadDo(){                         
        this.windowTables = new Array(
        	new windowTableId('client', 'buttonCreateInvoice'),	
            new windowTableId('client', 'buttonCancel')
        );
        setWindowTableParentElement();
        enableShortcuts('popup');
        setBrowserAutoComplete(false);

        setWindowElementFocus('firstElement');
        resizeWindow();            
        
        
        sc_paramscr_Combo_Item_ID.selectorField.setValue(document.getElementById("paramscrComboItemDescription").value);
        
       // refreshExpense();    
    }

    function onResizeDo(){
        resizeArea();
    }
    
    function checkEmptyBpDescription(){
        var frm = document.frmMain;
        /*if (frm.paramBPartnerDescription.value == ""){
          frm.paramBPartnerId.value = "";
        }*/
    }
    </script>
</head>

<body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" onload="onLoadDo();" marginheight="0" marginwidth="0" >
<div class="Popup_Status_Processing_Container_hidden" id="Processing_Container">  <div class="Popup_Status_Processing_Elements_Container" id="Processing_Container_Logo">
    <div class="Popup_Status_Processing_logo">
      <div class="Popup_Status_Processing_logo_dimension"></div>
    </div>
    <div class="Popup_Status_Processing_text">Processing...</div>
  </div>
</div><iframe name="hiddenFrame" style="display:none;"></iframe>
<form id="form" method="post" action="CreateInvoiceFromPartial.html" name="frmMain">
    
    <input type="hidden" name="Command"></input>
    <input type="hidden" name="IsPopUpCall" value="1" type="hidden"></input>
    <input type="hidden" name="inpLastFieldChanged"></input>
    <input type="hidden" name="inpKey" value="" id="paramKey"></input>
    <input type="hidden" name="inpwindowId" value="" id="window"></input>
    <input type="hidden" name="inpTabId" value="" id="tab"></input>
    <input type="hidden" name="inpDocumentId" id="strDocumentId" value=""></input>
    <input type="hidden" name="draftDocumentIds" id="draftDocumentIds" value=""></input>       

	<div class="Popup_ContentPane_CircleLogo">
	  <div class="Popup_WindowLogo">
	    <img class="Popup_WindowLogo_Icon Popup_WindowLogo_Icon_process" src="../web/images/blank.gif" border="0/">
	  </div>
	</div>

  <table cellspacing="0" cellpadding="0" width="100%">
  <tbody>
	  <tr>
	    <td>
	      <table class="Popup_ContentPane_NavBar" cellpadding="0" cellspacing="0">
	        <tbody><tr class="Popup_NavBar_bg"><td></td>
	          <td class="Popup_NavBar_separator_cell"></td>
	          <td class="Popup_NavBar_bg_logo_left"></td>
	          <td class="Popup_NavBar_bg_logo" onclick="openNewBrowser('http://www.openbravo.com', 'Openbravo');return false;" width="1"><img src="../web/images/blank.gif" alt="Openbravo" title="Openbravo" id="openbravoLogo" class="Popup_NavBar_logo" border="0"></td>
	          <td class="Popup_NavBar_bg_logo_right"></td>
	          <td class="Popup_NavBar_Popup_title_cell"><span id="processDescription">Crear Factura (Proveedor)</span></td>
	          <td class="Popup_NavBar_separator_cell"></td>
	        </tr>
	      </tbody></table>
	    </td>
	  </tr>
	
	  <tr>
	    <td>
	      <table class="Popup_ContentPane_SeparatorBar" cellpadding="0" cellspacing="0">
	        <tbody><tr>
	          <td class="Popup_SeparatorBar_bg"></td>
	        </tr>
	      </tbody></table>
	    </td>
	  </tr>
    
	  <tr>
	    <td>
	      <table class="Popup_ContentPane_InfoBar" cellpadding="0" cellspacing="0">
	        <tbody><tr>
	          <td class="Popup_InfoBar_Icon_cell"><img src="../web/images/blank.gif" class="Popup_InfoBar_Icon_info" border="0"></td>
	          <td class="Popup_InfoBar_text_table">
	            <table>
	              <tbody><tr>
	                <td class="Popup_InfoBar_text">Crear Factura para Parcial.</td>
	              </tr>
	            </tbody></table>
	          </td>
	        </tr>
	      </tbody></table>
	    </td>
	  </tr>   

	  <tr>
	    <td>
	      
	       <table id="messageBoxID" class="MessageBoxHIDDEN" cellpadding="0" cellspacing="0">
	            <tbody>
	            <tr class="MessageBox_TopMargin">
	              <td class="MessageBox_LeftMargin"></td>
	              <td></td>
	              <td class="MessageBox_RightMargin"></td>
	            </tr>
	            <tr>
	              <td class="MessageBox_LeftMargin"></td>
	              <td>
	                <table class="MessageBox_Container" cellpadding="0" cellspacing="0">
	                  <tbody>
	                  <tr>
	                    <td class="MessageBox_LeftTrans">
	                      <table style="width: 100%; height: 100%" cellpadding="0" cellspacing="0">
	                        <tbody>
	                        <tr>
	                          <td class="MessageBox_TopLeft"></td>
	                        </tr>
	                        <tr>
	                          <td class="MessageBox_Left"></td>
	                        </tr>
	                        </tbody>
	                      </table>
	                    </td>
	                    <td class="MessageBox_bg">
	                      <table class="MessageBox_Top">
	                      <tbody>
	                        <tr>
	                          <td>
	                            <span>
	                            <table class="MessageBox_Body_ContentCell" cellpadding="0" cellspacing="0">
	                              <tbody>
	                              <tr>
	                                <td class="MessageBox_Icon_ContentCell">
	                                  <div class="MessageBox_Icon"></div>
	                                </td>
	                                <td style="vertical-align: top;" id="messageBoxIDContent">
	                                  <span>
	                                    <div class="MessageBox_TextTitle" id="messageBoxIDTitle"></div>
	                                    <div class="MessageBox_TextDescription" id="messageBoxIDMessage"></div>
	                                    <div class="MessageBox_TextSeparator"></div>
	                                  </span>
	                                </td>
	                              </tr>
	                              </tbody>
	                            </table>
	                            </span>
	                          </td>
	                        </tr>
	                        </tbody>
	                      </table>
	                    </td>
	                    <td class="MessageBox_RightTrans">
	                      <table style="width: 100%; height: 100%" cellpadding="0" cellspacing="0">
	                        <tbody>
	                        <tr>
	                          <td class="MessageBox_TopRight"></td>
	                        </tr>
	                        <tr>
	                          <td class="MessageBox_Right"></td>
	                        </tr>
	                        </tbody>
	                      </table>
	                    </td>
	                  </tr>
	                  <tr>
	                    <td rowspan="2" class="MessageBox_BottomLeft">
	                    </td>
	                    <td class="MessageBox_BottomTrans MessageBox_bg">
	                    </td>
	                    <td rowspan="2" class="MessageBox_BottomRight">
	                    </td>
	                  </tr>
	                  <tr>
	                    <td class="MessageBox_Bottom">
	                    </td>
	                  </tr>
	                  </tbody>
	                </table>
	              </td>
	              <td class="MessageBox_RightMargin"></td>
	            </tr>
	            <tr class="MessageBox_BottomMargin">
	              <td class="MessageBox_LeftMargin"></td>
	              <td></td>
	              <td class="MessageBox_RightMargin"></td>
	            </tr>
	            </tbody>
	          </table> 
	    </td>
      </tr>
	     
    <tr>
      <td>
        <div class="Popup_ContentPane_Client" style="overflow: auto;" id="client">       
          <table cellspacing="0" cellpadding="0" class="Popup_Client_TablePopup">
              <tbody>
                <tr>
                  <td class="TablePopup_OneCell_width"></td>
                  <td class="TablePopup_OneCell_width"></td>
                </tr>
                
                
                   
                
                
                <tr>
                <td class="TitleCell"> <span class="LabelText">Tipo de Documento para Factura</span></td>
                  <td class="Combo_ContentCell" colspan="1"> 
                    <table border="0" cellspacing="0" cellpadding="0" summary="" >
                      <tr>
                         <td>
                           <script>
                             var sc_paramscr_Combo_Item_ID = null;   
                           </script>
                           <input type="hidden" name="inpscrComboItemId" id="paramscr_Combo_Item_ID" value="" onreset="sc_paramscr_Combo_Item_ID.resetSelector();" onchange="OB.Utilities.updateSmartClientComponentValue(this, sc_paramscr_Combo_Item_ID.selectorField);"></input>
                           <input type="hidden" id="paramscrComboItemDescription" type="text"  name="inpscrComboItem_D" maxlength="20" value="" ></input> 
                           <script id="selectorLink" src="../org.openbravo.client.kernel/OBUISEL_Selector/2568D4D66DB74E5F8EF67C619D84D35D?columnName=paramscr_Combo_Item_ID&filterClass=org.openbravo.userinterface.selector.SelectorDataSourceFilter&disabled=false&DisplayLength=45.0&required=true&restrictadorgid=inpadOrgId&WithTabFix=yes"></script>
                         </td>
                       </tr>
                     </table>
                  </td>
                </tr>
                
                <tr>
                   <td class="TitleCell"><span class="LabelText">Número de Doc Físico</span></td>
                   <td class="TextBox_ContentCell" colspan="1"> 
                     <input class="dojoValidateValid TextBox_Cells_width" type="text" name="inpDocumentoFisico" id="paramDocumentoFisico" size="18" maxlenght="30" value="" required="true"></input>
                     <script>djConfig.searchIds.push("paramDocumentoFisico");</script>
                   </td>
                </tr>
                
                 <tr>
                  <td class="TitleCell"><span class="LabelText">Fecha de Facturación</span></td>
                  <td class="TextBox_btn_ContentCell" colspan="1">
                    <table border="0" cellspacing="0" cellpadding="0" summary=""  style="padding-top: 0px;">
                      <tr>
                        <td class="TextBox_ContentCell">
                          <input dojoType="openbravo:DateTextbox" displayFormat="xx" saveFormat="yy"  class="TextBox_btn_OneCell_width" type="text" name="inpDocDate" id="paramDocDate" size="10" maxlength="10" value="" onkeyup="autoCompleteDate(this.textbox, this.displayFormat);return true;" onchange="setUpdateDate();" required="true"></input><script>djConfig.searchIds.push("paramDocDate");</script>
                        </td>
                        <td class="FieldButton_bg">
                          <a class="FieldButtonLink" href="#" onfocus="setWindowElementFocus(this); window.status='Calendar'; return true;" onblur="window.status=''; setUpdateDate(); return true;       " onkeypress="this.className='FieldButtonLink_active'; return true;" onkeyup="this.className='FieldButtonLink_focus'; return true;" onchange="setUpdateDate(); return true;" onclick="showCalendar('frmMain.inpDocDate', document.frmMain.inpDocDate.value, false);return false;">
                          <table class="FieldButton" onmouseout="this.className='FieldButton';window.status='';return true;" onmouseover="this.className='FieldButton_hover';window.status='Show calendar';return true;" onmousedown="this.className='FieldButton_active';return true;" onmouseup="this.className='FieldButton';return true;">
                            <tr>
                              <td class="FieldButton_bg">
                                <img alt="Calendar" class="FieldButton_Icon FieldButton_Icon_Calendar" title="Calendar" src="../../../../../web/images/blank.gif" border="0"></img>
                              </td>
                            </tr>
                          </table>
                          </a>
                        </td>
                      </tr>
                    </table>
                 </td>
                 </tr>
                 
                 
                 
                 <tr> 
                 <td class="TitleCell"><span class="LabelText">Fecha de Recepción</span></td>
                  <td class="TextBox_btn_ContentCell" colspan="1">
                    <table border="0" cellspacing="0" cellpadding="0" summary=""  style="padding-top: 0px;">
                      <tr>
                        <td class="TextBox_ContentCell">
                          <input dojoType="openbravo:DateTextbox" displayFormat="xx" saveFormat="yy"  class="TextBox_btn_OneCell_width" type="text" name="inpDateTo" id="paramDateTo" size="10" maxlength="10" value="" onkeyup="autoCompleteDate(this.textbox, this.displayFormat);return true;" onchange="setUpdateDate();return true;" required="true"></input><script>djConfig.searchIds.push("paramDateTo");</script>
                        </td>
                        <td class="FieldButton_bg">
                          <a class="FieldButtonLink" href="#" onfocus="setWindowElementFocus(this); window.status='Calendar'; return true;" onblur="window.status=''; return true;" onkeypress="this.className='FieldButtonLink_active'; return true;" onkeyup="this.className='FieldButtonLink_focus'; return true;"  onclick="showCalendar('frmMain.inpDateTo', document.frmMain.inpDateTo.value, false);return false;">
                          <table class="FieldButton" onmouseout="this.className='FieldButton';window.status='';return true;" onmouseover="this.className='FieldButton_hover';window.status='Show calendar';return true;" onmousedown="this.className='FieldButton_active';return true;" onmouseup="this.className='FieldButton';return true;">
                            <tr>
                              <td class="FieldButton_bg">
                                <img alt="Calendar" class="FieldButton_Icon FieldButton_Icon_Calendar" title="Calendar" src="../../../../../web/images/blank.gif" border="0"></img>
                              </td>
                            </tr>
                          </table>
                          </a>
                        </td>
                      </tr>
                    </table>
                 </td>                
                </tr>
                
                
                <tr>
                 <td class="TitleCell"> <span class="LabelText">Condiciones de Pago</span></td>
                 <td class="Combo_ContentCell"> <select name="inpPaymentTermId"  class="Combo Combo_OneCell_width" onchange="refreshPayment();" id="inpPaymentTermPopUpId"><option value=""></option><div id="reportPaymentTerm_ID"></div>
                </tr>
                <tr>
                  <td class="TitleCell"><span class="LabelText">Fecha de Vencimiento</span></td>
                  <td class="TextBox_btn_ContentCell" colspan="1">
                    <table border="0" cellspacing="0" cellpadding="0" summary=""  style="padding-top: 0px;">
                      <tr>
                        <td class="TextBox_ContentCell">
                          <input dojoType="openbravo:DateTextbox" displayFormat="xx" saveFormat="yy"  class="TextBox_btn_OneCell_width" type="text" name="inpDueDate" id="paramDueDate" size="10" maxlength="10" value="" onkeyup="autoCompleteDate(this.textbox, this.displayFormat);return true;" onchange="setUpdateDate();" required="true"></input><script>djConfig.searchIds.push("paramDueDate");</script>
                        </td>
                        <td class="FieldButton_bg">
                          <a class="FieldButtonLink" href="#" onfocus="setWindowElementFocus(this); window.status='Calendar'; return true;" onblur="window.status=''; setUpdateDate(); return true;       " onkeypress="this.className='FieldButtonLink_active'; return true;" onkeyup="this.className='FieldButtonLink_focus'; return true;" onchange="setUpdateDate(); return true;" onclick="showCalendar('frmMain.inpDueDate', document.frmMain.inpDueDate.value, false);return false;">
                          <table class="FieldButton" onmouseout="this.className='FieldButton';window.status='';return true;" onmouseover="this.className='FieldButton_hover';window.status='Show calendar';return true;" onmousedown="this.className='FieldButton_active';return true;" onmouseup="this.className='FieldButton';return true;">
                            <tr>
                              <td class="FieldButton_bg">
                                <img alt="Calendar" class="FieldButton_Icon FieldButton_Icon_Calendar" title="Calendar" src="../../../../../web/images/blank.gif" border="0"></img>
                              </td>
                            </tr>
                          </table>
                          </a>
                        </td>
                      </tr>
                    </table>
                 </td>
                 </tr>
                 
                 
                 <tr>
                  <td class="TitleCell"><span class="LabelText">Fecha Contable</span></td>
                  <td class="TextBox_btn_ContentCell" colspan="1">
                    <table border="0" cellspacing="0" cellpadding="0" summary=""  style="padding-top: 0px;">
                      <tr>
                        <td class="TextBox_ContentCell">
                          <input dojoType="openbravo:DateTextbox" displayFormat="xx" saveFormat="yy"  class="TextBox_btn_OneCell_width" type="text" name="inpAccDate" id="paramAccDate" size="10" maxlength="10" value="" onkeyup="autoCompleteDate(this.textbox, this.displayFormat);return true;" onchange="setUpdateDate();" required="true"></input><script>djConfig.searchIds.push("paramAccDate");</script>
                        </td>
                        <td class="FieldButton_bg">
                          <a class="FieldButtonLink" href="#" onfocus="setWindowElementFocus(this); window.status='Calendar'; return true;" onblur="window.status=''; setUpdateDate(); return true;       " onkeypress="this.className='FieldButtonLink_active'; return true;" onkeyup="this.className='FieldButtonLink_focus'; return true;" onchange="setUpdateDate(); return true;" onclick="showCalendar('frmMain.inpAccDate', document.frmMain.inpAccDate.value, false);return false;">
                          <table class="FieldButton" onmouseout="this.className='FieldButton';window.status='';return true;" onmouseover="this.className='FieldButton_hover';window.status='Show calendar';return true;" onmousedown="this.className='FieldButton_active';return true;" onmouseup="this.className='FieldButton';return true;">
                            <tr>
                              <td class="FieldButton_bg">
                                <img alt="Calendar" class="FieldButton_Icon FieldButton_Icon_Calendar" title="Calendar" src="../../../../../web/images/blank.gif" border="0"></img>
                              </td>
                            </tr>
                          </table>
                          </a>
                        </td>
                      </tr>
                    </table>
                 </td>
                 </tr>
                 
        <!--       <tr>
                  <td class="TitleCell"> <span class="LabelText">Aplica. Descuento</span></td>
                  <td class="Radio_Check_ContentCell"> <span class="Checkbox_container_NOT_Focused"><input type="checkbox" value="Y" checked="checked" id="paramChkInvoiceDiscount" name="inpChkInvoiceDiscount"></input></span></td>
                </tr>
                
                <tr>
                <td class="TitleCell"> <span class="LabelText" id="lblLineDiscount">Monto Descuento</span></td>
                <td class="TextBox_ContentCell" colspan="2"> 
                     <input dojoType="openbravo:RealNumberTextbox" class="TextBox_OneCell_width" type="text" name="inpLineDiscount" maxlength="10" id="paramLineDiscount" value="" outputformat="qtyEdition"></input>
                     <script>djConfig.searchIds.push("paramLineDiscount");</script>
                </td>
                <td class="TablePopup_OneCell_width"></td>
                </tr>
          -->          
                 
                 <tr>
                  <td class="TitleCell"><span class="LabelText">Valor de la Factura</span></td>
                  <td class="ReadOnly_Text_ContentCell" colspan="1"> 
                     <input class="dojoValidateValid TextBox_Cells_width" type="text" name="inpAmtInvoice" id="paramAmtInvoice" size="18" maxlenght="30" value="" required="true"></input>
                     <script>djConfig.searchIds.push("paramAmtInvoice");</script>
                  </td>
                </tr>
                
                <tr>
                <td class="TitleCell"> <span class="LabelText">Registrar Factura</span></td>
                <td class="Radio_Check_ContentCell"> <span class="Checkbox_container_NOT_Focused"><input type="checkbox" value="Y" checked="checked" id="paramChkInvoiceToCo" name="inpChkInvoiceToCo"></input></span></td>
                </tr>
                
                       
                <tr>
                   <td colspan="1" height="20px"></td>
                </tr>  
                                                                                              
                    <tr>
                        
                      <!--   <td class="Button_RightAlign_ContentCell">
                          <div>
                           <button type="button" 
	                          id="buttonCreateInvoice" 
	                          class="ButtonLink"             
	                                        
	                          onclick="checkEmptyBpDescription(); if(validate()) { openNewPurchaseInvoice(); } " 
	                          onfocus="buttonEvent('onfocus', this); window.status='Accept'; return true;" 
	                          onblur="buttonEvent('onblur', this);" 
	                          onkeyup="buttonEvent('onkeyup', this);" 
	                          onkeydown="buttonEvent('onkeydown', this);" 
	                          onkeypress="buttonEvent('onkeypress', this);" 
	                          onmouseup="buttonEvent('onmouseup', this);" 
	                          onmousedown="buttonEvent('onmousedown', this);" 
	                          onmouseover="buttonEvent('onmouseover', this); window.status='Accept'; return true;" 
	                          onmouseout="buttonEvent('onmouseout', this);">
	                          <table class="Button">
	                            <tr>
	                              <td class="Button_left"><img class="Button_Icon Button_Icon_ok" alt="Yes" title="Yes" src="../../../../../web/images/blank.gif" border="0" /></td>
	                              <td class="Button_text Button_width">OK</td>
	                              <td class="Button_right"></td>
	                            </tr>
                              </table>
                           </button>
                          </div>
                        </td>
                        -->
                         <td class="Button_RightAlign_ContentCell">
			              <div>
			                <button type="button" 
			                  id="buttonOK" 
			                  class="ButtonLink" 
			                  onclick="submitThisPage('SAVE');return false;" 
			                  onfocus="buttonEvent('onfocus', this); window.status='Accept'; return true;" 
			                  onblur="buttonEvent('onblur', this);" 
			                  onkeyup="buttonEvent('onkeyup', this);" 
			                  onkeydown="buttonEvent('onkeydown', this);" 
			                  onkeypress="buttonEvent('onkeypress', this);" 
			                  onmouseup="buttonEvent('onmouseup', this);" 
			                  onmousedown="buttonEvent('onmousedown', this);" 
			                  onmouseover="buttonEvent('onmouseover', this); window.status='Accept'; return true;" 
			                  onmouseout="buttonEvent('onmouseout', this);">
			                  <table class="Button">
			                    <tr>
			                      <td class="Button_left"><img class="Button_Icon Button_Icon_ok" alt="Accept" title="Accept" src="../../../../../web/images/blank.gif" border="0" /></td>
			                      <td class="Button_text Button_width">Aceptar</td>
			                      <td class="Button_right"></td>
			                    </tr>
			                  </table>
			                </button>
			              </div>
			            </td>
                        
                        
                        
			              <td class="Button_LeftAlign_ContentCell">
			                <div>
			                  <button type="button" 
			                    id="buttonCancel" 
			                    class="ButtonLink" 
			                    onclick="closeThisPage();return false;" 
			                    onfocus="buttonEvent('onfocus', this); window.status='Cancel'; return true;" 
			                    onblur="buttonEvent('onblur', this);" 
			                    onkeyup="buttonEvent('onkeyup', this);" 
			                    onkeydown="buttonEvent('onkeydown', this);" 
			                    onkeypress="buttonEvent('onkeypress', this);" 
			                    onmouseup="buttonEvent('onmouseup', this);" 
			                    onmousedown="buttonEvent('onmousedown', this);" 
			                    onmouseover="buttonEvent('onmouseover', this); window.status='Cancel'; return true;" 
			                    onmouseout="buttonEvent('onmouseout', this);">
			                    <table class="Button">
			                      <tr>
			                        <td class="Button_left"><img class="Button_Icon Button_Icon_cancel" alt="Cancel" title="Cancel" src="../../../../../web/images/blank.gif" border="0" /></td>
			                        <td class="Button_text Button_width">Cancel</td>
			                        <td class="Button_right"></td>
			                      </tr>
			                    </table>
			                  </button>
			                </div>
			              </td>
                         
                        </tr>     
             </tbody></table>                                          
      </div>
    </td>
  </tr>
</tbody></table>
</form>
</body>
</html>