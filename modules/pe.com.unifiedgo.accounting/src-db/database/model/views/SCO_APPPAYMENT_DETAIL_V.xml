<?xml version="1.0"?>
  <database name="VIEW SCO_APPPAYMENT_DETAIL_V">
    <view name="SCO_APPPAYMENT_DETAIL_V"><![CDATA[SELECT psd.fin_payment_scheduledetail_id AS sco_apppayment_detail_v_id, psd.ad_client_id, psd.ad_org_id, psd.isactive, psd.created, psd.createdby, psd.updated, psd.updatedby, psi.fin_payment_schedule_id, pd.fin_payment_id, psi.duedate, psi.amount AS expected, psd.amount AS paidamt, p.c_bpartner_id, p.fin_paymentmethod_id, p.fin_financial_account_id, p.c_currency_id, p.paymentdate, gli.name AS glitemname, pd.writeoffamt, fa.c_currency_id AS finacc_currency_id, p.finacc_txn_convert_rate, psd.amount * p.finacc_txn_convert_rate AS paidconverted, psi.amount * p.finacc_txn_convert_rate AS expectedconverted, psd.iscanceled, psd.c_bpartner_id AS c_bpartner_id_dim, psd.c_activity_id, psd.m_product_id, psd.c_campaign_id, psd.c_project_id, psd.c_salesregion_id, p.status, pd.fin_payment_detail_id, pd.em_sco_description AS description, pd.em_sco_doc_currency_id AS doc_currency_id, pd.em_sco_convert_rate AS convert_rate, pd.em_sco_alt_convert_rate AS alt_convert_rate, pd.em_sco_paymentamount AS paymentamount, pdapp.em_sco_prepayment_id AS sco_prepayment_id, pdapp.em_sco_rendcuentas_id AS sco_rendicioncuentas_id, psi.c_invoice_id, p.em_sco_multicurrencypayment AS multicurrencypayment FROM fin_payment p LEFT JOIN fin_financial_account fa ON p.fin_financial_account_id = fa.fin_financial_account_id, fin_payment_detail pdapp, fin_payment_detail pd JOIN fin_payment_scheduledetail psd ON pd.fin_payment_detail_id = psd.fin_payment_detail_id LEFT JOIN fin_payment_schedule psi ON psd.fin_payment_schedule_invoice = psi.fin_payment_schedule_id LEFT JOIN c_glitem gli ON pd.c_glitem_id = gli.c_glitem_id WHERE p.fin_payment_id = pd.fin_payment_id AND pdapp.fin_payment_id = pd.fin_payment_id AND pd.fin_payment_detail_id <> pdapp.fin_payment_detail_id AND (pdapp.em_sco_prepayment_id IS NOT NULL OR pdapp.em_sco_rendcuentas_id IS NOT NULL)]]></view>
  </database>
