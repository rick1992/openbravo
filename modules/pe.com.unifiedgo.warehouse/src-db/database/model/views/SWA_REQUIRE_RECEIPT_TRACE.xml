<?xml version="1.0"?>
  <database name="VIEW SWA_REQUIRE_RECEIPT_TRACE">
    <view name="SWA_REQUIRE_RECEIPT_TRACE"><![CDATA[SELECT COALESCE(ot.swa_requerimientoreposicion_id, '-') || ot.ad_client_id AS swa_require_receipt_trace_id, ot.ad_client_id, ot.ad_org_id, ot.isactive, ot.updated, ot.updatedby, ot.created, ot.createdby, ot.swa_requerimientoreposicion_id AS fromreposition_id, ot.documentno AS fromrepo_documentno, sio.m_inout_id AS fromship_out_id, sio.documentno AS fromship_documentno, sio.em_swa_shipstatus AS fromship_status, rt.swa_requerimientoreposicion_id AS toreceipt_id, rt.documentno AS toreceipt_documentno, rio.m_inout_id AS toship_in_id, rio.documentno AS toship_in_documentno, rio.docstatus FROM swa_requerepo_detail otl JOIN swa_requerimientoreposicion ot ON ot.swa_requerimientoreposicion_id = otl.swa_requerimientoreposicion_id LEFT JOIN m_inoutline iol ON iol.em_swa_requerepo_detail_id = otl.swa_requerepo_detail_id LEFT JOIN m_inout sio ON sio.m_inout_id = iol.m_inout_id AND sio.docstatus <> 'VO' LEFT JOIN swa_requerimientoreposicion rt ON rt.swa_fromrequerimiento_id = otl.swa_requerimientoreposicion_id AND rt.status <> 'VO' LEFT JOIN m_inout rio ON rio.em_swa_requireposicion_id = rt.swa_requerimientoreposicion_id AND rio.issotrx = 'N' AND rio.docstatus <> 'VO' GROUP BY ot.ad_client_id, ot.ad_org_id, ot.isactive, ot.updated, ot.updatedby, ot.created, ot.createdby, ot.swa_requerimientoreposicion_id, ot.documentno, sio.m_inout_id, sio.documentno, sio.em_swa_shipstatus, rt.swa_requerimientoreposicion_id, rt.documentno, rio.m_inout_id, rio.documentno, rio.docstatus]]></view>
  </database>
