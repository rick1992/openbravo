<?xml version="1.0"?>
  <database name="VIEW SWA_REQUESTPRODUCT_TRACE">
    <view name="SWA_REQUESTPRODUCT_TRACE"><![CDATA[SELECT COALESCE(st.swa_requerimientoreposicion_id, '-') || ot.swa_requerimientoreposicion_id AS swa_requestproduct_trace_id, st.ad_client_id, st.ad_org_id, st.isactive, st.updated, st.updatedby, st.created, st.createdby, st.swa_requerimientoreposicion_id AS reposition_request_id, ot.swa_requerimientoreposicion_id AS reposition_order_id, ot.documentno AS reposition_order_documentno, sio.m_inout_id AS m_inout_out_id, sio.documentno AS m_inout_documentno, sio.em_swa_shipstatus AS shipment_status, rt.swa_requerimientoreposicion_id AS reposition_receipt_id, rt.documentno AS reposition_receipt_documentno, rio.m_inout_id AS m_inout_in_id, rio.documentno AS m_inout_in_documentno, st.swa_requerimientoreposicion_id FROM swa_requerepo_detail otl JOIN swa_requerimientoreposicion ot ON ot.swa_requerimientoreposicion_id = otl.swa_requerimientoreposicion_id LEFT JOIN m_inoutline iol ON iol.em_swa_requerepo_detail_id = otl.swa_requerepo_detail_id JOIN m_inout sio ON sio.m_inout_id = iol.m_inout_id AND sio.docstatus <> 'VO' LEFT JOIN swa_requerimientoreposicion rt ON rt.swa_fromrequerimiento_id = otl.swa_requerimientoreposicion_id AND rt.status <> 'VO' LEFT JOIN m_inout rio ON rio.em_swa_requireposicion_id = rt.swa_requerimientoreposicion_id AND rio.issotrx = 'N' AND rio.docstatus <> 'VO' JOIN swa_requerepo_detail stl ON stl.swa_requerepo_detail_id = otl.requerepo_from_line_id JOIN swa_requerimientoreposicion st ON st.swa_requerimientoreposicion_id = stl.swa_requerimientoreposicion_id GROUP BY st.swa_requerimientoreposicion_id, st.ad_client_id, st.ad_org_id, st.isactive, st.updated, st.updatedby, st.created, st.createdby, ot.swa_requerimientoreposicion_id, ot.documentno, sio.m_inout_id, sio.documentno, sio.em_swa_shipstatus, rt.swa_requerimientoreposicion_id, rt.documentno, rio.m_inout_id, rio.documentno]]></view>
  </database>
